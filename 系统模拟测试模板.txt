#include<stdio.h>
#include<string.h>
#include<stdlib.h>
#include<windows.h>
typedef struct students{
	
	int data; 
	char name[10];//scanf("%s",&name);
}stu;

typedef struct LNode *PtrToAdjVNode;
struct LNode{
	stu s;
	struct LNode *next;
	
};
typedef PtrToAdjVNode List;

stu createStuScore()
{
	stu temp;

	printf("输入data:\n"); 
	scanf("%d",&temp.data);
	printf("name data_\n");
	scanf("%s",temp.name);
	
	
	return temp;

}


List Add_data()
{
	List Node;
	Node=(List)malloc(sizeof(LNode));
	
	Node->s=createStuScore();
	Node->next=NULL;
	
	return Node;
}

//将一个节点添加到列表中去，返回列表的头指针
List addToList(List list,List temp)
{
	temp->next=list;
	list=temp;
	return list;
}

//显示信息
void Show_data(stu temp)
{
		printf("测试数据%d   %s\n",temp.data,temp.name);
		
}

//显示所有学生信息
void Show_Alldata(List list)
{
	
//	printf("data _______\n");
	while(list!=NULL)
	{
		Show_data(list->s);
		list=list->next;
	}
	getchar();getchar();
}

//查询函数
void inquire(List L)
{
	int i;

	printf("测试_____-data\n");
	scanf("%d",&i);
	
	while(L!=NULL)
	{
		if(i==L->s.data)
		{
			printf("测试___________data\n");
			Show_data(L->s);
		}
		L=L->next;
	}
	getchar();getchar();
}

//修改程序函数
void Modify(List L)
{
	int i;
	
	printf("_____________data\n");
	scanf("%d",&i);
	while(L!=NULL)
	{
		if(i==L->s.data)
		{
			L->s=createStuScore();
			break;
		}
		L=L->next;
	}
	printf("修改成功");
	getchar();getchar();
}

//删除成绩函数
List  Delete(List L)
{
	int i;
	List temp=L->next,head=L;
	printf("____________data\n");
	scanf("%d",&i);
	
	if(i==head->s.data)
	{
		head=head->next;
		return head;
	}
	else{
		while(temp!=NULL)
		{
			if(i==temp->s.data)
			{
				head->next=temp->next;
				break;
			}
			else
				temp=temp->next;
		}
	}
	printf("删除成功");
	return head;
}

//排序
void sort(List L)
{
//	List da,xiao,head;
//	
//	stu zanshi;
//	int a,b;
//	da=head;
//	while(da!=NULL)
//	{
//		xiao=da;
//		a=xiao->s.data+xiao->s.data+xiao->s.data;		
//		while(xiao!=NULL)
//		{
//			b=xiao->s.data+xiao->s.data+xiao->s.data;
//			if(b>a)
//			{
//				zanshi=xiao->s;
//				xiao->s=da->s;
//				da->s=zanshi;
//				a=b;
//			}
//			xiao=xiao->next;
//		}
//		da=da->next;
//	}
//	printf("成功排序");getchar();getchar();
}
void menu(){

		system("cls");
		printf("\t\t\t\t\t*********----------测试系统模板********\n");
		printf("\t\t\t\t\t1.输入学生信息\n");
		printf("\t\t\t\t\t2.显示所有学生的成绩信息\n");
		printf("\t\t\t\t\t3.查询成绩\n");
		printf("\t\t\t\t\t4.修改程序\n");
		printf("\t\t\t\t\t5.删除程序\n");
		printf("\t\t\t\t\t6.成绩排序\n");
		printf("\t\t\t\t\t*********************************\n");
		printf("\t\t\t\t\t请输入您的选择:");
}
void exit(){
	printf("--------------------");
	exit(0);
}
int main()
{
	List head=NULL,temp;
	int choice;
	while(1)
	{
		menu();
		scanf("%d",&choice);
		switch(choice)
		{
		case 1://添加学生信息
				temp=Add_data();
				head=addToList(head,temp);
				break;
		
		case 2:Show_Alldata(head);break;

		case 3:inquire(head);break;

		case 4:Modify(head);break;


		case 5:head=Delete(head);getchar();getchar();break;

		case 6:sort(head);break;

		case -1:exit();break;

		}
	}
}
